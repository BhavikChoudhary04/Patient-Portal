<div class="registrationForm mt-5">
  <mat-card>
    <mat-card-title>Register Here</mat-card-title>
    <mat-card-content>
      <form [formGroup]="registerForm" autocomplete="off">
        <div>
          <mat-form-field class="form-element" appearance="fill">
            <mat-label>First Name</mat-label>
            <input type="text" matInput formControlName="firstName" required/>
            <mat-error *ngIf="(registerForm.get('firstName')) !.errors?.required">
              First Name is required
            </mat-error>
            <mat-error *ngIf="(registerForm.get('firstName')) !.errors?.pattern">
              First Name can only contain letters.
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element" appearance="fill">
            <mat-label>Last Name</mat-label>
            <input type="text" matInput formControlName="lastName" required/>
            <mat-error *ngIf="(registerForm.get('lastName')) !.errors?.required">
              Last Name is required
            </mat-error>
            <mat-error *ngIf="(registerForm.get('lastName')) !.errors?.pattern">
              Last Name can only contain letters.
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element" appearance="fill">
            <mat-label>Username</mat-label>
            <input type="text" matInput formControlName="userName" required/>
            <mat-error *ngIf="(registerForm.get('userName')) !.errors?.required">
              Username is required
            </mat-error>
            <mat-error *ngIf="(registerForm.get('userName')) !.errors?.pattern">
               Username can contain only letters, numbers and underscore(_).
               Maximum 12 characters long .
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element" appearance="fill">
            <mat-label>Email</mat-label>
            <input type="email" matInput formControlName="email" required/>
            <mat-error *ngIf="(registerForm.get('email')) !.errors?.required">
              Email is required
            </mat-error>
            <mat-error *ngIf="(registerForm.get('email')) !.errors?.pattern">
              Please enter valid email
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element" appearance="fill">
            <mat-label>Password</mat-label>
            <input [type]="flag ? 'password' : 'text'" matInput formControlName="password" required/>
            <mat-icon (click)="flag=!flag" matSuffix>{{ flag ? 'visibility_off' : 'visibility' }}</mat-icon>
            <mat-error *ngIf="registerForm.invalid || registerForm.touched">
              Password must contain minimum nine characters, at least one upercase letter, one lowercase letter, one special character and one number
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element" appearance="fill">
            <mat-label>Confirm Password</mat-label>
            <input [type]="CPflag ? 'password' : 'text'" matInput formControlName="confirmPassword" required/>
            <mat-icon (click)="CPflag=!CPflag" matSuffix>{{ CPflag ? 'visibility_off' : 'visibility' }}</mat-icon>
            <mat-error *ngIf="(registerForm.get('confirmPassword')) !.errors?.pattern">
              Confirm Password required
            </mat-error>

            <mat-error *ngIf="registerForm.get('confirmPassword')?.errors?.confirmedValidator">
              Password and Confirm Password must be same.
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element" appearance="fill" appearance="fill">
            <mat-label>DOB (DD/MM/YYYY)</mat-label>
            <input [matDatepicker]="dp" matInput  formControlName="dob"  [min]="minDate" [max]="maxDate" readonly required/>
            <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
            <mat-datepicker #dp></mat-datepicker>
            <mat-error *ngIf="registerForm.invalid || registerForm.touched">
              Please enter your Date Of Birth
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element" appearance="fill">
            <mat-label>Role</mat-label>
            <mat-select formControlName="role" required>
              <mat-option value="patient">Patient</mat-option>
              <mat-option value="physician">Physician</mat-option>
              <mat-option value="labAssistant">Lab Assistant</mat-option>
              <mat-option value="admin">Admin</mat-option>
            </mat-select>
            <mat-error *ngIf="registerForm.invalid || registerForm.touched">
              Please select your role
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element" appearance="fill">
            <mat-label>Mobile No.</mat-label>
            <input matInput formControlName="mobile" required/>
            <mat-error *ngIf="registerForm.invalid || registerForm.touched">
              Please enter a 10 digit phone number
            </mat-error>
          </mat-form-field>

          <div class="btn-position">
            <button mat-raised-button color="accent" (click)="submitRegisterForm()" [disabled]="!registerForm.valid">Submit</button>
            <button class="btn-align" mat-button type="reset" (click)="backToLogin()">Cancel</button>
          </div>
          
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
